<!DOCTYPE html>
<html>

<head>

  <title></title>

  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <script type="text/javascript" src="script.js"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</head>

<body onload="isFirstSession()">
  <div id="nav">
    <ul class="nav justify-content-center">
    <li class="nav-item">
      <a class="nav-link active" href="index.html">Play Versus Computer</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="onlinegame.html">Play Versus Other Player</a>
    </li>
  </ul>
  </div>

  <div id="bodyall">
    <div id="header">
      <img src="images/logo.jpg" height="100">
      <h1>Paper, Rock, Scissors</h1>

      <h2 id="welcome_text"></h2>
      <a class="btn btn-primary" data-toggle="collapse" href="#rulesCollapse" role="button" aria-expanded="false" aria-controls="rulesCollapse">
        Rules
      </a>
      <a class="btn btn-primary" data-toggle="collapse" href="#statsCollapse" role="button" aria-expanded="false" aria-controls="statsCollapse">
        Stats
      </a>
    </div>

    <div id="feedback">
      <div class="alert alert-danger mt-3" role="alert" id="feedback_text">
      </div>
    </div>

    <div class="collapse" id="rulesCollapse">
      <div id="rules" class="mt-3">
        <div class="card text-center">
          <div class="card-header">
            Rules
          </div>
          <div class="card-body">
            <ul class="list-group list-group-flush">
              <li class="list-group-item">Rule 1: </li>
              <li class="list-group-item">Rule 1:</li>
              <li class="list-group-item">Rule 1:</li>
              <li class="list-group-item">Rule 1:</li>
              <li class="list-group-item">Rule 1:</li>
</ul>
          </div>
        </div>
      </div>
    </div>

    <div class="collapse" id="statsCollapse">
      <div id="stats" class="mt-3">
        <div class="card text-center">
          <div class="card-header">
            Stats
          </div>
          <div class="card-body">
            <h5 class="card-title">Total Games Played</h5>
            <p class="card-text" id="totalgamesplayed"></p>
            <h5 class="card-title">Player Wins</h5>
            <p class="card-text" id="playerwinsdiv"></p>
            <h5 class="card-title">Win-Loss Ratio</h5>
            <p class="card-text" id="winlossratio"></p>
            <h5 class="card-title">Player Throw Statistics</h5>
            <p class="card-text" id="playermoves"></p>
            <h5 class="card-title">Computer Throw Statistics</h5>
            <p class="card-text" id="compmoves"></p>
            <h5 class="card-title">Player Outcomes</h5>
            <p class="card-text">The distribution of the outcomes for every game played.</p>
            <div class="chart-container">
              <canvas id="winChart"></canvas>
            </div>


            <h5 class="card-title">Player Moves</h5>
              <p class="card-text">The distribution of the moves made by the player.</p>
            <div class="chart-container">
              <canvas id="playerMovesChart"></canvas>
            </div>

            <h5 class="card-title">Computer Moves</h5>
              <p class="card-text">The distribution of the moves made by the computer.</p>
            <div class="chart-container">
              <canvas id="compMovesChart"></canvas>
            </div>

          </div>
        </div>
      </div>
    </div>

    <div id="enter_name">
      <h1>Enter Name:</h1>
      <form id="entername_form">
        Enter Your Name To Begin: <input type="text" id="name_textfield" />
        <input type="button" id="name_button" value="Submit" >
      </form>
    </div>


    <div id="throw_choice" class="mt-3">
      <div class="card text-center">
        <div class="card-header">
          Throw Choice
        </div>
        <div class="card-body">
          <h5 class="card-title">Play Game</h5>
          <p class="card-text">Select a move, then click "Play Game!"</p>
          <form id="playgameform">
            <select id="throw_choice_select">
              <option value="null"></option>
              <option value="1">Rock</option>
              <option value="2">Paper</option>
              <option value="3">Scissors</option>
            </select>
            <input type="button" id="throw_choice_button" value="Play Game!" >
          </form>
        </div>
      </div>
    </div>

    <div id="game_results" class="mt-3">
      <h1 class="text-center">Game Results</h1>
      <div class="card-deck">
        <div class="card text-center">
          <div class="result_div" id="player_result">
            <div class="card-header" id="playercardhead"> </div>
            <div class="card-body">
              <h5 id="player_title_text" class="card-title">Player:</h5>
              <p id="player_move_text" class="card-text"></p>
              <img src="" height="170" id="player_img">
            </div>
          </div>
        </div>
        <div class="card text-center">
          <div class="result_div" id="comp_result">
            <div class="card-header" id="compcardhead"></div>
            <div class="card-body">
              <h5 id="comp_title_text" class="card-title">Computer:</h5>
              <p id="comp_move_text" class="card-text"></p>
              <img src="" height="170" id="comp_img">
            </div>
          </div>
        </div>
      </div>
      <div id="result_summary" class="mt-3">
        <div class="card text-white bg-success mb-3" id="resultsummarycard">
          <div class="card-header">Result Summary</div>
          <div class="card-body">
            <h5 class="card-title" id="resultsumtitle"></h5>
            <p class="card-text" id="resultexplanation"></p>
            <button id="play_again_button" type="button" class="btn btn-light" >Play Again!</button>
          </div>
        </div>
      </div>
    </div>

  </div>
  <footer style="margin-bottom:0%;text-align:center;">
  <p>Created By Ethan Polley. October 2018</p>
</footer>
</body>
<script type="text/javascript">
document.getElementById("name_button").addEventListener("click", function(){
  nameEntered();
});
document.getElementById("throw_choice_button").addEventListener("click", function(){
  clickPlay();
});
document.getElementById("play_again_button").addEventListener("click", function(){
  playAgainClicked();
});

  var winId = document.getElementById('winChart').getContext('2d');
  var winchart = new Chart(winId, {
    // The type of chart we want to create
    type: 'pie',

    // The data for our dataset
    data: {
      datasets: [{
        data: [localStorage.playerWins, localStorage.playerTies, localStorage.playerLosses],
        backgroundColor: [
          'rgb(12, 220, 4)',
          'rgb(250, 222, 10)',
          'rgb(220, 4, 4)',
        ]
      }],

      labels: [
        'Wins',
        'Ties',
        'Losses'
      ]
    },

    // Configuration options go here
    options: {
      animation: {
        animateRotate: true,
      }
    }

  });

  var pmovesId = document.getElementById('playerMovesChart').getContext('2d');
  var pmovesChart = new Chart(pmovesId, {
    // The type of chart we want to create
    type: 'pie',

    // The data for our dataset
    data: {
      datasets: [{
        data: [localStorage.playerRock, localStorage.playerPaper, localStorage.playerScissors],
        backgroundColor: [
          'rgb(12, 220, 4)',
          'rgb(250, 222, 10)',
          'rgb(220, 4, 4)',
        ]
      }],

      labels: [
        'Rock',
        'Paper',
        'Scissors'
      ]
    },

    // Configuration options go here
    options: {
      animation: {
        animateRotate: true,
      }
    }

  });

  var cmovesId = document.getElementById('compMovesChart').getContext('2d');
  var cmovesChart = new Chart(cmovesId, {
    // The type of chart we want to create
    type: 'pie',

    // The data for our dataset
    data: {
      datasets: [{
        data: [localStorage.compRock, localStorage.compPaper, localStorage.compScissors],
        backgroundColor: [
          'rgb(12, 220, 4)',
          'rgb(250, 222, 10)',
          'rgb(220, 4, 4)',
        ]
      }],

      labels: [
        'Rock',
        'Paper',
        'Scissors'
      ]
    },

    // Configuration options go here
    options: {
      animation: {
        animateRotate: true,
      }
    }

  });

  function clickPlay() {
    playGameComp();
    winchart.data.datasets[0].data = [localStorage.playerWins, localStorage.playerTies, localStorage.playerLosses];
    pmovesChart.data.datasets[0].data = [localStorage.playerRock, localStorage.playerPaper, localStorage.playerScissors];
    cmovesChart.data.datasets[0].data = [localStorage.compRock, localStorage.compPaper, localStorage.compScissors];
    winchart.update();
    pmovesChart.update();
    cmovesChart.update();
  }
</script>

</html>
